% Persistent-GP.tex
\begin{hcarentry}{Persistent}
\label{persistent}
\report{Greg Weber}%11/14
\participants{Michael Snoyman, Felipe Lessa}
\status{stable}
\makeheader

Persistent is a type-safe data store interface for Haskell.
After years of stability, Persistent just recently had a 2.0 release.

Persistent 2.0 features

\begin{compactitem}
\item a flexible, yet more type-safe Key type
\item a simplified monad stack
\end{compactitem}

Haskell has many different database bindings available, but most provide few
usefeul static guarantees.  Persistent uses knowledge of the data schema to
provide a type-safe interface to the database.  Persistent is designed to work
across different databases, currently working on Sqlite, PostgreSQL, MongoDB,
MySQL, Redis, and ZooKeeper.

Persistent provides a high-level query interface that works against all
backends.

\begin{code}
selectList [ PersonFirstName ==. "Simon",
             PersonLastName ==. "Jones"] []
\end{code}

The result of this will be a list of Haskell records.

Persistent can also be used to write type-safe query libraries that are
specific.  esqueleto is a library for writing arbitrary SQL queries that is
built on Persistent.

\FuturePlans
Possible future directions for Persistent:
\begin{compactitem}
\item Declaring a schema separately from a record, possibly leveraging GHC's
  new annotations feature
\end{compactitem}

Persistent users may also be interested in Groundhog \cref{groundhog}, a
similar project.

Persistent is recommended to Yesod~\cref{yesod} users.  However, there is
nothing particular to Yesod or even web development about it.  You can have a
type-safe, productive way to store data for any kind of Haskell project.

\FurtherReading
\begin{compactitem}
\item \url{http://www.yesodweb.com/book/persistent} 
\item \url{http://hackage.haskell.org/package/esqueleto}
\item \url{http://www.yesodweb.com/blog/2014/09/persistent-2}
\item \url{http://www.yesodweb.com/blog/2014/08/announcing-persistent-2}
\end{compactitem}
\end{hcarentry}
